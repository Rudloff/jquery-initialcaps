!function(i){"use strict";i.initialCaps=function(t,n){var a=this;a.$container=i(t),a.container=t,a.$container.data("initialCaps",a),a.init=function(){a.options=i.extend({},i.initialCaps.defaultOptions,n);var t=a.options.containerFirstChild,s=a.options.target;if(t){var e=a.$container.children().first(),r=a.controlItem(e);if(r){var o;a.options.firstElementSpecificClass&&(o=a.options.firstElementSpecificClassName),a.doInitialCaps(e,o)}}return a.options.onlyFirstChild===!1?i.each(s,function(){var t=a.$container.children(this);t.length&&t.each(function(){var t=i(this).next(),n=a.controlItem(t);n&&a.doInitialCaps(t)})}):void 0},a.controlItem=function(t){var n=t.prop("tagName").toLowerCase(),s=a.options.targetItems;if(-1!==i.inArray(n,s)){var e=a.blockHeightControl(t);return e?!0:!1}return!1},a.blockHeightControl=function(i){var t=parseInt(i.innerHeight()),n=i.css("box-sizing"),s=parseInt(i.css("line-height")),e=parseInt(i.css("padding-top")),r=parseInt(i.css("padding-bottom")),o=t,p=0;return("border-box"===n||"padding-box"===n)&&(o=o-e-r),p=o/s,p>=a.options.minLines?!0:!1},a.firstWord=function(i){var t=i.text(),n=t.slice(0,t.indexOf(" "));return n},a.wrapping=function(i,t,n){var s=a.options.initialCapsTag,e=a.options.initialCapsClass,r="<"+s+' class="'+e+" "+n+'">',o="</span>",p=i.html().replace(t,r+"$1"+o);i.html(p)},a.doInitialCaps=function(t,n){var s=a.firstWord(t),e=s.length,r=s.slice(0,1),o=i.type(r);if("int"===o);else{var p;e<=a.options.entireWordMaxSize?(p=/^(\w+)/,a.wrapping(t,p,n)):(p=/^([A-Za-z])/,a.wrapping(t,p,n))}},a.init()},i.initialCaps.defaultOptions={containerFirstChild:!0,onlyFirstChild:!1,firstElementSpecificClass:!0,firstElementSpecificClassName:"initial-caps-first",target:["h1","h2","h3","h4","h5","h6","hr"],targetItems:["p"],initialCapsTag:"span",initialCapsClass:"initial-caps",minLines:4,entireWordMaxSize:2},i.fn.initialCaps=function(t){return this.each(function(){new i.initialCaps(this,t)})},i(".js-initial-caps").initialCaps()}(jQuery);